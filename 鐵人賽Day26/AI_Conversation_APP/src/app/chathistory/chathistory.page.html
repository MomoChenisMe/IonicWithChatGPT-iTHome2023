<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="返回"></ion-back-button>
    </ion-buttons>
    <ion-title>
      歷史對話記錄
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content #ionContent>
  <div class="flex flex-col space-y-6 m-2 mb-5">
    <ng-container *ngFor="let item of (chatHistory$ | async)">
      <div class="flex flex-row items-start justify-start self-end" *ngIf="item.role === 'user' && item.content !== ''">
        <!-- User對話框 -->
        <div class="flex-1 bg-gradient-to-br from-purple-500 to-blue-400 rounded-xl px-3 py-2 text-white max-w-xxs">
          {{ item.content }}
        </div>
      </div>
      <div class="flex flex-row items-start justify-start self-start"
        *ngIf="item.role === 'assistant' && item.content !== ''">
        <!-- AI頭像 -->
        <img class="flex-none w-8 h-8 rounded-full bg-gradient-to-br from-purple-300 to-orange-200 mr-3 flex items-center justify-center"
          src="assets/AI-Avatar.svg">
        <!-- AI對話框 -->
        <div class="flex-1 flex flex-col xl:max-w-4xl max-w-xxs">
          <span class="text-purple-600 text-xs font-bold mb-1">AI英語口說導師</span>
          <div class="bg-gradient-to-br from-purple-500 to-orange-400 rounded-xl px-3 py-2 text-white">
            <p>{{ item.content }}</p>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</ion-content>
